{"ast":null,"code":"import { takeLatest, put, call } from 'redux-saga/effects';\nimport { Types, Creators } from 'modules/ducks/shop/shop.actions';\nimport { firestore, convertCollectionsSnapshotToMap } from 'firebase-client/firebase.utils';\nexport function* fetchCollectionsRequest() {\n  try {\n    const collectionRef = firestore.collection('collections');\n    const snapshot = yield collectionRef.get();\n    const collectionsMap = yield call(convertCollectionsSnapshotToMap, snapshot);\n    console.log('collectionsMap', collectionsMap);\n    yield put(Creators.fetchCollectionsSuccess({\n      collections: collectionsMap\n    }));\n  } catch (error) {\n    yield put(Creators.fetchCollectionsFailure(error.message));\n  }\n}\nexport default function* shopSagas() {\n  yield takeLatest(Types.FETCH_COLLECTIONS, fetchCollectionsRequest);\n}","map":{"version":3,"sources":["/Users/reddeguzman/Code/crwn-clothing-ecommerce-react-prototype/src/modules/sagas/shop.sagas.js"],"names":["takeLatest","put","call","Types","Creators","firestore","convertCollectionsSnapshotToMap","fetchCollectionsRequest","collectionRef","collection","snapshot","get","collectionsMap","console","log","fetchCollectionsSuccess","collections","error","fetchCollectionsFailure","message","shopSagas","FETCH_COLLECTIONS"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,IAA1B,QAAsC,oBAAtC;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,iCAAhC;AACA,SAASC,SAAT,EAAoBC,+BAApB,QAA2D,gCAA3D;AAEA,OAAO,UAAUC,uBAAV,GAAoC;AACzC,MAAI;AACF,UAAMC,aAAa,GAAGH,SAAS,CAACI,UAAV,CAAqB,aAArB,CAAtB;AACA,UAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,UAAMC,cAAc,GAAG,MAAMV,IAAI,CAACI,+BAAD,EAAkCI,QAAlC,CAAjC;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,cAA9B;AACA,UAAMX,GAAG,CAACG,QAAQ,CAACW,uBAAT,CAAiC;AAAEC,MAAAA,WAAW,EAAEJ;AAAf,KAAjC,CAAD,CAAT;AACD,GAND,CAME,OAAOK,KAAP,EAAc;AACd,UAAMhB,GAAG,CAACG,QAAQ,CAACc,uBAAT,CAAiCD,KAAK,CAACE,OAAvC,CAAD,CAAT;AACD;AACF;AAED,eAAe,UAAUC,SAAV,GAAsB;AACnC,QAAMpB,UAAU,CAACG,KAAK,CAACkB,iBAAP,EAA0Bd,uBAA1B,CAAhB;AACD","sourcesContent":["import { takeLatest, put, call } from 'redux-saga/effects';\nimport { Types, Creators } from 'modules/ducks/shop/shop.actions';\nimport { firestore, convertCollectionsSnapshotToMap } from 'firebase-client/firebase.utils';\n\nexport function* fetchCollectionsRequest() {\n  try {\n    const collectionRef = firestore.collection('collections');\n    const snapshot = yield collectionRef.get();\n    const collectionsMap = yield call(convertCollectionsSnapshotToMap, snapshot);\n    console.log('collectionsMap', collectionsMap);\n    yield put(Creators.fetchCollectionsSuccess({ collections: collectionsMap }));\n  } catch (error) {\n    yield put(Creators.fetchCollectionsFailure(error.message));\n  }\n}\n\nexport default function* shopSagas() {\n  yield takeLatest(Types.FETCH_COLLECTIONS, fetchCollectionsRequest);\n}\n"]},"metadata":{},"sourceType":"module"}